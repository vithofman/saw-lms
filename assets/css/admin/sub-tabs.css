/**
 * Vertical Sub-Tabs Styles for Course Settings
 *
 * Implementuje vertikální navigační menu s ikonami pro podzáložky Settings tabu.
 * Design pattern: Levé menu (220px) + pravý panel (zbytek).
 *
 * @package    SAW_LMS
 * @subpackage Assets/CSS/Admin
 * @since      3.2.4
 * @version    3.2.4
 */

/* ============================================
   SUB-TABS CONTAINER
   ============================================ */

.saw-sub-tabs-container {
	display: flex !important;
	gap: 0 !important;
	min-height: 400px !important;
	background: #fff !important;
	border: 1px solid #c3c4c7 !important;
	border-radius: 4px !important;
	margin-top: 10px !important;
	visibility: visible !important;
	opacity: 1 !important;
}

/* ============================================
   VERTICAL MENU (LEFT SIDE - 220px)
   ============================================ */

.saw-sub-tabs-menu {
	flex: 0 0 220px !important;
	background: #f0f0f1 !important;
	border-right: 1px solid #c3c4c7 !important;
	padding: 0 !important;
	margin: 0 !important;
	display: flex !important;
	flex-direction: column !important;
	visibility: visible !important;
	opacity: 1 !important;
}

.saw-sub-tab-button {
	display: flex !important;
	align-items: center !important;
	gap: 12px !important;
	padding: 14px 16px !important;
	background: transparent !important;
	border: none !important;
	border-bottom: 1px solid #dcdcde !important;
	text-align: left !important;
	cursor: pointer !important;
	transition: all 0.2s ease !important;
	color: #50575e !important;
	font-size: 14px !important;
	font-weight: 500 !important;
	position: relative !important;
	visibility: visible !important;
	opacity: 1 !important;
}

.saw-sub-tab-button:hover {
	background: #fff !important;
	color: #2271b1 !important;
}

.saw-sub-tab-button.saw-sub-tab-active {
	background: #fff !important;
	color: #2271b1 !important;
	border-left: 3px solid #2271b1 !important;
	padding-left: 13px !important; /* Kompenzace border */
	font-weight: 600 !important;
}

.saw-sub-tab-button:focus {
	outline: 2px solid #2271b1 !important;
	outline-offset: -2px !important;
	box-shadow: none !important;
}

/* Ikony v menu */
.saw-sub-tab-icon {
	font-size: 18px !important;
	width: 20px !important;
	text-align: center !important;
	display: inline-block !important;
	flex-shrink: 0 !important;
}

/* Text v menu */
.saw-sub-tab-label {
	flex: 1 !important;
	line-height: 1.4 !important;
	display: inline-block !important;
}

/* ============================================
   CONTENT PANEL (RIGHT SIDE - flex grow)
   ============================================ */

.saw-sub-tabs-panels {
	flex: 1 !important;
	padding: 24px !important;
	background: #fff !important;
	overflow-y: auto !important;
	max-height: 700px !important;
	display: block !important;
	visibility: visible !important;
	opacity: 1 !important;
}

.saw-sub-tab-panel {
	/* Hidden by default */
	display: none !important;
	animation: fadeInPanel 0.3s ease-in-out;
}

/* CRITICAL: Active panel MUST be visible */
.saw-sub-tab-panel.saw-sub-tab-panel-active {
	display: block !important;
	visibility: visible !important;
	opacity: 1 !important;
}

@keyframes fadeInPanel {
	from {
		opacity: 0;
		transform: translateX(10px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

/* ============================================
   PANEL CONTENT STYLING
   ============================================ */

/* Panel heading */
.saw-sub-panel-heading {
	margin: 0 0 24px 0 !important;
	padding: 0 0 12px 0 !important;
	border-bottom: 2px solid #2271b1 !important;
}

.saw-sub-panel-heading h3 {
	margin: 0 0 6px 0 !important;
	font-size: 18px !important;
	font-weight: 600 !important;
	color: #1d2327 !important;
	display: flex !important;
	align-items: center !important;
	gap: 10px !important;
}

.saw-sub-panel-heading h3 .dashicons {
	font-size: 24px !important;
	width: 24px !important;
	height: 24px !important;
}

.saw-sub-panel-heading .description {
	margin: 0 !important;
	color: #646970 !important;
	font-size: 13px !important;
	font-style: italic !important;
}

/* Field groups v panelech */
.saw-sub-tab-panel .saw-field-group {
	margin-bottom: 20px !important;
	padding-bottom: 20px !important;
	border-bottom: 1px solid #f0f0f1 !important;
	display: block !important;
	visibility: visible !important;
	opacity: 1 !important;
}

.saw-sub-tab-panel .saw-field-group:last-child {
	border-bottom: none !important;
	margin-bottom: 0 !important;
	padding-bottom: 0 !important;
}

/* ============================================
   RESPONSIVE DESIGN - TABLET/MOBILE
   ============================================ */

@media screen and (max-width: 782px) {
	
	/* Stack vertically na mobilech */
	.saw-sub-tabs-container {
		flex-direction: column !important;
	}
	
	/* Menu na mobilu - horizontální scrollovatelné */
	.saw-sub-tabs-menu {
		flex: 0 0 auto !important;
		width: 100% !important;
		flex-direction: row !important;
		overflow-x: auto !important;
		overflow-y: hidden !important;
		border-right: none !important;
		border-bottom: 1px solid #c3c4c7 !important;
		white-space: nowrap !important;
	}
	
	/* Tlačítka v řadě */
	.saw-sub-tab-button {
		flex: 0 0 auto !important;
		border-bottom: none !important;
		border-right: 1px solid #dcdcde !important;
		min-width: 140px !important;
	}
	
	.saw-sub-tab-button:last-child {
		border-right: none !important;
	}
	
	.saw-sub-tab-button.saw-sub-tab-active {
		border-left: none !important;
		border-bottom: 3px solid #2271b1 !important;
		padding-left: 16px !important;
	}
	
	/* Panels na celou šířku */
	.saw-sub-tabs-panels {
		width: 100% !important;
		max-height: none !important;
	}
}

/* ============================================
   ACCESSIBILITY & FOCUS STATES
   ============================================ */

/* Keyboard navigation */
.saw-sub-tab-button:focus-visible {
	outline: 3px solid #2271b1 !important;
	outline-offset: -3px !important;
	box-shadow: 0 0 0 3px rgba(34, 113, 177, 0.1) !important;
	z-index: 10 !important;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
	.saw-sub-tab-button.saw-sub-tab-active {
		border-left-width: 4px !important;
	}
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
	.saw-sub-tab-button,
	.saw-sub-tab-panel {
		transition: none !important;
		animation: none !important;
	}
	
	.saw-sub-tab-panel.saw-sub-tab-panel-active {
		animation: none !important;
	}
}

/* ============================================
   DEBUG HELPER (odstranit po otestování)
   ============================================ */

/* Uncomment pro debugging:
.saw-sub-tabs-container {
	border: 3px solid green !important;
}
.saw-sub-tabs-menu {
	background: lightyellow !important;
}
.saw-sub-tabs-panels {
	background: lightblue !important;
}
*/