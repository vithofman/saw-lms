/**
 * Course Edit Layout Fix (block editor only, SAW CPT only)
 *
 * Cíl: odstranit „divider“ (ResizableBox handle) a vynutit jednotný
 * vertikální tok – editor nahoře, metaboxy pod ním, jeden scrollbar.
 *
 * Bez zásahů do DOMu a bez změny výšky editoru – jen přenastavení metabox oblasti.
 *
 * @package    SAW_LMS
 * @subpackage Assets/CSS/Admin
 * @since      3.2.8
 */

/* --- OMEZ na naše CPT --- */
body.post-type-saw_course .edit-post-meta-boxes-area,
body.post-type-saw_section .edit-post-meta-boxes-area,
body.post-type-saw_lesson .edit-post-meta-boxes-area,
body.post-type-saw_quiz .edit-post-meta-boxes-area {
	/* kontejner metabox panelu nesmí mít vlastní scroll ani max-height */
	height: auto !important;
	max-height: none !important;
	overflow: visible !important;
}

/* ResizableBox kontejner (Gutenberg přidává inline výšku) */
body.post-type-saw_course .edit-post-meta-boxes-area .components-resizable-box__container,
body.post-type-saw_section .edit-post-meta-boxes-area .components-resizable-box__container,
body.post-type-saw_lesson .edit-post-meta-boxes-area .components-resizable-box__container,
body.post-type-saw_quiz .edit-post-meta-boxes-area .components-resizable-box__container {
	height: auto !important;
	max-height: none !important;
	overflow: visible !important;
	resize: none !important;
}

/* Schovej samotné „úchyty“ (divider/resize) */
body.post-type-saw_course .edit-post-meta-boxes-area .components-resizable-box__handle,
body.post-type-saw_section .edit-post-meta-boxes-area .components-resizable-box__handle,
body.post-type-saw_lesson .edit-post-meta-boxes-area .components-resizable-box__handle,
body.post-type-saw_quiz .edit-post-meta-boxes-area .components-resizable-box__handle {
	display: none !important;
	pointer-events: none !important;
}

/* Zajisti, aby hlavní content část nepřinášela druhý scroll */
body.post-type-saw_course .interface-interface-skeleton__content,
body.post-type-saw_section .interface-interface-skeleton__content,
body.post-type-saw_lesson .interface-interface-skeleton__content,
body.post-type-saw_quiz .interface-interface-skeleton__content {
	overflow: visible !important;
}

/* Vizuálně „srostlý“ přechod – jemná hranice nad metabox zónou */
body.post-type-saw_course .edit-post-meta-boxes-main,
body.post-type-saw_section .edit-post-meta-boxes-main,
body.post-type-saw_lesson .edit-post-meta-boxes-main,
body.post-type-saw_quiz .edit-post-meta-boxes-main {
	box-shadow: none !important;
	border-top: 1px solid #dcdcde !important;
}

/* Nepřepozičníme layout editoru – jen rušíme resizable vlastnosti metabox panelu.
   Díky tomu zůstávají ostatní části Gutenbergu (sidebar, toolbar) beze změny. */

/* Mobile/tablet: drž jednotný tok i na úzké šířce */
@media (max-width: 782px) {
	body.post-type-saw_course .edit-post-meta-boxes-area,
	body.post-type-saw_section .edit-post-meta-boxes-area,
	body.post-type-saw_lesson .edit-post-meta-boxes-area,
	body.post-type-saw_quiz .edit-post-meta-boxes-area {
		overflow-x: hidden !important;
		overflow-y: visible !important;
	}
}
